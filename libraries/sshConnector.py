import paramiko
import os
from paramiko import SSHClient

class SSHConnector(SSHClient):

    def __init__(self, hostName, userName = "root"):
        try:
            self._transport.auth_none(userName)
            self.client = paramiko.SSHClient()
            self.client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
            self.client.connect(hostname=hostName, username=userName, password="")
        except Exception as ex:
            print('[-] Paramiko setup/connection failed: {0}'.format(ex))

    def sendCommand(self, command):
        try:
            stdin, stdout, stderr = self.client.exec_command(command)
            if stdout:
                print(stdout)
            if stderr:
                print(stderr)
        except Exception as ex:
            print('[-] Error issuing command: {0}'.format(ex))


